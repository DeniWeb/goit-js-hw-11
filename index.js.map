{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '48809440-7649b5744f5d98f4a92a91a9c';\nconst PER_PAGE = 15;\n\nexport function fetchImages(query) {\n    const params = {\n        key: API_KEY,\n        q: query,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: PER_PAGE,\n    };\n\n    return axios\n        .get(BASE_URL, { params })\n        .then(response => {\n            if (response.data.hits.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message:\n                        'Sorry, there are no images matching your search query. Please try again!',\n                    position: 'topRight',\n                });\n                return [];\n            }\n            return response.data.hits;\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message: 'Something went wrong. Please try again later!',\n                position: 'topRight',\n            });\n            return [];\n        });\n}\n","export function imageTemplate(item) {\n    const {\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n    } = item;\n\n    return `<li class=\"gallery-item\">\n                <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                    <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" />\n                </a>\n                <div class=\"desc\">\n                    <ul class=\"desc-wraper\">\n                        <li class=\"desc-item\">\n                            <h3>Likes</h3>\n                            <p>${likes}</p>\n                        </li>\n                        <li class=\"desc-item\">\n                            <h3>Views</h3>\n                            <p>${views}</p>\n                        </li>\n                        <li class=\"desc-item\">\n                            <h3>Comments</h3>\n                            <p>${comments}</p>\n                        </li>\n                        <li class=\"desc-item\">\n                            <h3>Downloads</h3>\n                            <p>${downloads}</p>\n                        </li>\n                    </ul>\n                </div>\n            </li>`;\n}\n\nexport function imagesTemplate(items) {\n    return items.map(imageTemplate).join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { imagesTemplate } from './js/render-functions';\n\nconst refs = {\n    container: document.querySelector('.gallery'),\n    form: document.querySelector('.form'),\n    loader: document.querySelector('.loader'),\n};\n\nrefs.form.addEventListener('submit', e => {\n    e.preventDefault();\n\n    const inputValue = e.target.elements.text.value.trim();\n    if (!inputValue) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Something went wrong. Please try again later!',\n            position: 'topRight',\n        });\n        return;\n    }\n\n    refs.container.innerHTML = '';\n    refs.loader.classList.remove('hidden');\n\n    fetchImages(inputValue)\n        .then(images => {\n            renderValue(images);\n        })\n        .catch(error => {\n            iziToast.error({\n                title: 'Error',\n                message:\n                    'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n            });\n        })\n        .finally(() => {\n            refs.loader.classList.add('hidden');\n            e.target.reset();\n        });\n});\n\nfunction renderValue(items) {\n    const markup = imagesTemplate(items);\n    refs.container.insertAdjacentHTML('beforeend', markup);\n\n    gallery.refresh();\n}\n\nconst gallery = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n"],"names":["BASE_URL","API_KEY","PER_PAGE","fetchImages","query","params","axios","response","error","imageTemplate","item","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","items","refs","e","inputValue","iziToast","images","renderValue","markup","gallery","SimpleLightbox"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCACVC,EAAW,GAEV,SAASC,EAAYC,EAAO,CAC/B,MAAMC,EAAS,CACX,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAUF,CAClB,EAEI,OAAOI,EACF,IAAIN,EAAU,CAAE,OAAAK,EAAQ,EACxB,KAAKE,GACEA,EAAS,KAAK,KAAK,SAAW,GAC9B,SAAS,MAAM,CACX,MAAO,QACP,QACI,2EACJ,SAAU,UAC9B,CAAiB,EACM,IAEJA,EAAS,KAAK,IACxB,EACA,MAAMC,IACH,SAAS,MAAM,CACX,MAAO,QACP,QAAS,gDACT,SAAU,UAC1B,CAAa,EACM,GACV,CACT,CCtCO,SAASC,EAAcC,EAAM,CAChC,KAAM,CACF,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACH,EAAGP,EAEJ,MAAO;AAAA,2BACgBE,CAAa;AAAA,gCACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAMzBC,CAAK;AAAA;AAAA;AAAA;AAAA,iCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,iCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,iCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,kBAK1C,CAEO,SAASC,EAAeC,EAAO,CAClC,OAAOA,EAAM,IAAIV,CAAa,EAAE,KAAK,EAAE,CAC3C,CC/BA,MAAMW,EAAO,CACT,UAAW,SAAS,cAAc,UAAU,EAC5C,KAAM,SAAS,cAAc,OAAO,EACpC,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEAA,EAAK,KAAK,iBAAiB,SAAUC,GAAK,CACtCA,EAAE,eAAc,EAEhB,MAAMC,EAAaD,EAAE,OAAO,SAAS,KAAK,MAAM,OAChD,GAAI,CAACC,EAAY,CACbC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,gDACT,SAAU,UACtB,CAAS,EACD,MACH,CAEDH,EAAK,UAAU,UAAY,GAC3BA,EAAK,OAAO,UAAU,OAAO,QAAQ,EAErCjB,EAAYmB,CAAU,EACjB,KAAKE,GAAU,CACZC,EAAYD,CAAM,CAC9B,CAAS,EACA,MAAMhB,GAAS,CACZe,EAAS,MAAM,CACX,MAAO,QACP,QACI,2EACJ,SAAU,UAC1B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXH,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCC,EAAE,OAAO,OACrB,CAAS,CACT,CAAC,EAED,SAASI,EAAYN,EAAO,CACxB,MAAMO,EAASR,EAAeC,CAAK,EACnCC,EAAK,UAAU,mBAAmB,YAAaM,CAAM,EAErDC,EAAQ,QAAO,CACnB,CAEA,MAAMA,EAAU,IAAIC,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAClB,CAAC"}